---
title: Home
icon: mdi:home-assistant
cards:
  - type: custom:simple-weather-card
    entity: weather.casa_lani
    backdrop: true
    custom:
      - temp: sensor.weewx_outtemp
      - precipitation: sensor.weewx_rain
      - humidity: sensor.weewx_outhumidity
      - wind_speed: sensor.weewx_wind

  - type: horizontal-stack
    cards:
      - type: custom:mushroom-person-card
        entity: person.teqqy
        icon_type: entity-picture
      - type: custom:mushroom-person-card
        entity: person.petra
        icon_type: entity-picture

  - type: vertical-stack
    cards:
    - type: conditional
      conditions:
        - entity: binary_sensor.teqqcar_charger
          state: 'on'
      card:
        type: custom:stack-in-card
        cards:
          - type: picture-elements
            entity: binary_sensor.teqqcar_charging
            image: /local/lovelace/tesla_pluggedin.PNG
            elements:
              - type: state-label
                entity: sensor.teqqcar_range
                style:
                  top: 77%
                  left: 81%
                  transform: none
                  color: white
              - type: state-label
                entity: sensor.teqqcar_battery
                style:
                  top: 70%
                  left: 88%
                  transform: none
                  color: white
              - type: conditional
                conditions:
                  - entity: binary_sensor.teqqcar_charging
                    state: 'on'
                elements:
                  - type: state-label
                    entity: sensor.teqqcar_charger_power
                    style:
                      top: 70%
                      left: 1%
                      transform: none
                      color: green
                  - type: state-label
                    entity: sensor.teqqcar_charging_time
                    style:
                      top: 77%
                      left: 1%
                      transform: none
                      color: green

              - type: conditional
                conditions:
                  - entity: device_tracker.teqqcar_location_tracker
                    state: not_home
                elements:
                  - type: state-icon
                    entity: device_tracker.teqqcar_location_tracker
                    icon: mdi:home-export-outline
                    style:
                      top: 1%
                      left: 91%
                      transform: none
              - type: conditional
                conditions:
                  - entity: device_tracker.teqqcar_location_tracker
                    state: home
                elements:
                  - type: state-icon
                    entity: device_tracker.teqqcar_location_tracker
                    icon: mdi:home
                    style:
                      top: 1%
                      left: 91%
                      transform: none
            state_image:
              'off': /local/lovelace/tesla_pluggedin.PNG
              'on': /local/lovelace/tesla_charging.PNG

  - type: custom:stack-in-card
    cards:
    - type: custom:mushroom-template-card
      primary: Wohnzimmer
      secondary: '{{ states(''sensor.temperature_livingroom'') | round(0) }} °C | {{ states(''sensor.humidity_livingroom'') | round(0) }} %'
      icon: mdi:sofa
      entity: group.livingroom_lights
      tap_action:
        action: navigate
        navigation_path: livingroom
      hold_action:
        action: toggle
      icon_color: '{{ ''orange'' if is_state(entity, ''on'') else ''disabled'' }}'
      fill_container: true
      layout: horizontal
      multiline_secondary: false
      card_mod:
        style: |
          :host([dark-mode]) {
            background: rgba(var(--rgb-primary-background-color), 0.2);
          } 
          :host {
            background: rgba(var(--rgb-primary-text-color), 0.025);
            --mush-icon-size: 76px;
            height: 66px;
            margin-left: -18px !important;
          }
    - type: custom:mushroom-chips-card
      chips:
        - type: conditional
          conditions:
            - entity: binary_sensor.bs_li_terrasse_contact
              state: 'on'
          chip:
            type: template
            icon_color: disabled
            icon: mdi:window-open
        - type: conditional
          conditions:
            - entity: light.couch
              state: 'on'
          chip:
            type: template
            icon_color: disabled
            icon: mdi:sofa
        - type: conditional
          conditions:
            - entity: light.bodenlampe
              state: 'on'
          chip:
            type: template
            icon_color: disabled
            icon: mdi:lamp
        - type: conditional
          conditions:
            - entity: switch.plug_lichterkette
              state: 'on'
          chip:
            type: template
            icon_color: disabled
            icon: mdi:led-strip-variant
        - type: conditional
          conditions:
            - entity: light.wz_decke
              state: 'on'
          chip:
            type: template
            icon_color: disabled
            icon: mdi:ceiling-light
      alignment: end
      card_mod:
        style: |
          ha-card {
            --chip-box-shadow: none;
            --chip-background: none;
            --chip-spacing: 0;
          } 
    card_mod:
      style: |
        ha-card {
          height: 102px;
          {% if is_state('light.couch', 'on') %}
            background: rgba(255, 152, 0, 0.1);
          {% endif %}
        }

  - type: custom:stack-in-card
    cards:
    - type: custom:mushroom-template-card
      primary: Küche
      secondary: '{{ states(''sensor.temperature_kitchen'') | round(0) }} °C'
      icon: mdi:countertop
      entity: light.decke
      tap_action:
        action: navigate
        navigation_path: kitchen
      hold_action:
        action: toggle
      icon_color: '{{ ''orange'' if is_state(entity, ''on'') else ''disabled'' }}'
      fill_container: true
      layout: horizontal
      multiline_secondary: false
      card_mod:
        style: |
          :host([dark-mode]) {
            background: rgba(var(--rgb-primary-background-color), 0.2);
          } 
          :host {
            background: rgba(var(--rgb-primary-text-color), 0.025);
            --mush-icon-size: 76px;
            height: 66px;
            margin-left: -18px !important;
          }
    - type: custom:mushroom-chips-card
      chips:
        - type: conditional
          conditions:
            - entity: binary_sensor.bs_ki_window_contact
              state: 'on'
          chip:
            type: template
            icon_color: disabled
            icon: mdi:window-open
      alignment: end
      card_mod:
        style: |
          ha-card {
            --chip-box-shadow: none;
            --chip-background: none;
            --chip-spacing: 0;
          } 
    card_mod:
      style: |
        ha-card {
          height: 102px;
          {% if is_state('light.decke', 'on') %}
            background: rgba(255, 152, 0, 0.1);
          {% endif %}
        }